import{C as U,j as v,M as u,o as a,au as S,a5 as V,w as c,N as q,Z as B,$ as j,H as N,O as o,at as P,ab as R,c as i,b as h,av as E,F as y,R as x,d as I}from"./j4_2ViiT.js";import{_ as O}from"./Cl65U4t_.js";import{u as A,_ as H,a as L}from"./Dl2hKm80.js";import{_ as M}from"./CDZJbQBY.js";import{_ as T}from"./CplfUlQ2.js";import{_ as Z,a as D}from"./D8pwDNuT.js";import{b as G,s as J,o as K}from"./oIv4vp1I.js";import"./DMD2K3S7.js";import"./Cnrug4zB.js";import"./CCoGgdT1.js";import"./BwXzPZac.js";import"./LY-Canmp.js";import"./C851_8qb.js";import"./6RnN_7Mu.js";import"./CDvuUz3z.js";import"./GguNupJU.js";import"./BHe6V4LP.js";const Q=U({inheritAttrs:!1,__name:"Checkbox",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(g,{emit:b}){const d=g,r=b,p=v({get:()=>d.modelValue,set:l=>r("update:modelValue",l)});return(l,_)=>{const k=M;return a(),u(k,N(l.$attrs,{modelValue:o(p),"onUpdate:modelValue":_[0]||(_[0]=n=>P(p)?p.value=n:null),ui:{base:"border-white/10 bg-white/5 data-[state=checked]:bg-primary-500 data-[state=checked]:border-primary-500 text-white",label:"text-neutral-300 font-medium"}}),S({_:2},[V(l.$slots,(n,t)=>({name:t,fn:c(s=>[q(l.$slots,t,B(j(s)))])}))]),1040,["modelValue"])}}}),X=Object.assign(Q,{__name:"WizardCheckbox"}),Y={key:0,class:"flex justify-center py-8"},ee={key:1,class:"space-y-8"},he=U({__name:"storage",setup(g){const b=R(),{fields:d,state:r,loading:p,isFieldVisible:l}=A("storage"),_=v(()=>{const n={};return d.value.forEach(t=>{if(!l(t))return;let s;t.type==="boolean"||t.ui.type==="toggle"?s=G():(s=J(),t.ui.required?s=s.min(1,`${t.label} is required`):s=s.optional()),t.ui.type,n[t.key]=s}),K(n)});function k(){b.push("/onboarding/map")}return(n,t)=>{const s=E,z=O,$=L,w=X,f=H,C=T,W=D,F=Z;return a(),u(F,{title:"存储配置",description:"选择将您的照片存储在何处"},{actions:c(()=>[h(W,{type:"submit",form:"storage-form",color:"primary",size:"lg",disabled:o(p),"trailing-icon":"tabler:arrow-right"},{default:c(()=>[...t[0]||(t[0]=[I(" 下一步 ",-1)])]),_:1},8,["disabled"])]),default:c(()=>[o(p)?(a(),i("div",Y,[h(s,{name:"tabler:loader",class:"animate-spin w-8 h-8 text-gray-400"})])):(a(),i("div",ee,[(a(!0),i(y,null,V(o(d),e=>(a(),i(y,{key:e.key},[e.key==="provider"&&e.ui.type==="custom"?(a(),u(z,{key:0,modelValue:o(r)[e.key],"onUpdate:modelValue":m=>o(r)[e.key]=m,options:e.ui.options||[]},null,8,["modelValue","onUpdate:modelValue","options"])):x("",!0)],64))),128)),h(C,{id:"storage-form",state:o(r),schema:o(_),class:"space-y-4",onSubmit:k},{default:c(()=>[(a(!0),i(y,null,V(o(d),e=>(a(),i(y,{key:e.key},[o(l)(e)&&e.key!=="provider"?(a(),u(f,{key:0,label:n.$t(e.label||""),name:e.key,required:e.ui.required,help:n.$t(e.ui.help||"")},{default:c(()=>[e.ui.type==="password"?(a(),u($,{key:0,modelValue:o(r)[e.key],"onUpdate:modelValue":m=>o(r)[e.key]=m,type:"password",placeholder:n.$t(e.ui.placeholder||"")},null,8,["modelValue","onUpdate:modelValue","placeholder"])):e.ui.type==="toggle"?(a(),u(w,{key:1,modelValue:o(r)[e.key],"onUpdate:modelValue":m=>o(r)[e.key]=m,label:n.$t(e.label||"")},null,8,["modelValue","onUpdate:modelValue","label"])):(a(),u($,{key:2,modelValue:o(r)[e.key],"onUpdate:modelValue":m=>o(r)[e.key]=m,type:"text",placeholder:n.$t(e.ui.placeholder||"")},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]),_:2},1032,["label","name","required","help"])):x("",!0)],64))),128))]),_:1},8,["state","schema"])]))]),_:1})}}});export{he as default};
