import{r as _,j as s,v as ee,k as te,C as P,aI as F,N as b,aJ as q,S as D,M,o as w,w as x,O as r,aM as z,c as S,H as k,U as re,V as ae,q as oe,b as Y,P as I}from"./j4_2ViiT.js";import{u as ie,c as ne,o as se,f as W,s as le,a as de,b as pe,h as ue,l as fe}from"./1YPYiat5.js";function ce(o){const a=_(),e=s(()=>a.value?.width??0),l=s(()=>a.value?.height??0);return ee(()=>{const t=te(o);if(t){a.value={width:t.offsetWidth,height:t.offsetHeight};const p=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const v=i[0];let n,u;if("borderBoxSize"in v){const h=v.borderBoxSize,f=Array.isArray(h)?h[0]:h;n=f.inlineSize,u=f.blockSize}else n=t.offsetWidth,u=t.offsetHeight;a.value={width:n,height:u}});return p.observe(t,{box:"border-box"}),()=>p.unobserve(t)}else a.value=void 0}),{width:e,height:l}}const[L,he]=F("PopperRoot");var ge=P({inheritAttrs:!1,__name:"PopperRoot",setup(o){const a=_();return he({anchor:a,onAnchorChange:e=>a.value=e}),(e,l)=>b(e.$slots,"default")}}),ze=ge,ve=P({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(o){const a=o,{forwardRef:e,currentElement:l}=q(),t=L();return D(()=>{t.onAnchorChange(a.reference??l.value)}),(p,i)=>(w(),M(r(z),{ref:r(e),as:p.as,"as-child":p.asChild},{default:x(()=>[b(p.$slots,"default")]),_:3},8,["as","as-child"]))}}),ke=ve;const ye={key:0,d:"M0 0L6 6L12 0"},we={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var me=P({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(o){const a=o;return q(),(e,l)=>(w(),M(r(z),k(a,{width:e.width,height:e.height,viewBox:e.asChild?void 0:"0 0 12 6",preserveAspectRatio:e.asChild?void 0:"none"}),{default:x(()=>[b(e.$slots,"default",{},()=>[e.rounded?(w(),S("path",we)):(w(),S("path",ye))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),_e=me;function Pe(o){return o!==null}function be(o){return{name:"transformOrigin",options:o,fn(a){const{placement:e,rects:l,middlewareData:t}=a,i=t.arrow?.centerOffset!==0,v=i?0:o.arrowWidth,n=i?0:o.arrowHeight,[u,h]=O(e),f={start:"0%",center:"50%",end:"100%"}[h],C=(t.arrow?.x??0)+v/2,m=(t.arrow?.y??0)+n/2;let d="",g="";return u==="bottom"?(d=i?f:`${C}px`,g=`${-n}px`):u==="top"?(d=i?f:`${C}px`,g=`${l.floating.height+n}px`):u==="right"?(d=`${-n}px`,g=i?f:`${m}px`):u==="left"&&(d=`${l.floating.width+n}px`,g=i?f:`${m}px`),{data:{x:d,y:g}}}}}function O(o){const[a,e="center"]=o.split("-");return[a,e]}const Ce={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[Ae,Se]=F("PopperContent");var qe=P({inheritAttrs:!1,__name:"PopperContent",props:re({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...Ce}),emits:["placed"],setup(o,{emit:a}){const e=o,l=a,t=L(),{forwardRef:p,currentElement:i}=q(),v=_(),n=_(),{width:u,height:h}=ce(n),f=s(()=>e.side+(e.align!=="center"?`-${e.align}`:"")),C=s(()=>typeof e.collisionPadding=="number"?e.collisionPadding:{top:0,right:0,bottom:0,left:0,...e.collisionPadding}),m=s(()=>Array.isArray(e.collisionBoundary)?e.collisionBoundary:[e.collisionBoundary]),d=s(()=>({padding:C.value,boundary:m.value.filter(Pe),altBoundary:m.value.length>0})),g=s(()=>({mainAxis:e.sideFlip,crossAxis:e.alignFlip})),X=ae(()=>[se({mainAxis:e.sideOffset+h.value,alignmentAxis:e.alignOffset}),e.prioritizePosition&&e.avoidCollisions&&W({...d.value,...g.value}),e.avoidCollisions&&le({mainAxis:!0,crossAxis:!!e.prioritizePosition,limiter:e.sticky==="partial"?fe():void 0,...d.value}),!e.prioritizePosition&&e.avoidCollisions&&W({...d.value,...g.value}),de({...d.value,apply:({elements:c,rects:$,availableWidth:Z,availableHeight:G})=>{const{width:K,height:Q}=$.reference,A=c.floating.style;A.setProperty("--reka-popper-available-width",`${Z}px`),A.setProperty("--reka-popper-available-height",`${G}px`),A.setProperty("--reka-popper-anchor-width",`${K}px`),A.setProperty("--reka-popper-anchor-height",`${Q}px`)}}),n.value&&pe({element:n.value,padding:e.arrowPadding}),be({arrowWidth:u.value,arrowHeight:h.value}),e.hideWhenDetached&&ue({strategy:"referenceHidden",...d.value})]),j=s(()=>e.reference??t.anchor.value),{floatingStyles:E,placement:R,isPositioned:B,middlewareData:y}=ie(j,v,{strategy:e.positionStrategy,placement:f,whileElementsMounted:(...c)=>ne(...c,{layoutShift:!e.disableUpdateOnLayoutShift,animationFrame:e.updatePositionStrategy==="always"}),middleware:X}),H=s(()=>O(R.value)[0]),U=s(()=>O(R.value)[1]);D(()=>{B.value&&l("placed")});const V=s(()=>y.value.arrow?.centerOffset!==0),N=_("");oe(()=>{i.value&&(N.value=window.getComputedStyle(i.value).zIndex)});const J=s(()=>y.value.arrow?.x??0),T=s(()=>y.value.arrow?.y??0);return Se({placedSide:H,onArrowChange:c=>n.value=c,arrowX:J,arrowY:T,shouldHideArrow:V}),(c,$)=>(w(),S("div",{ref_key:"floatingRef",ref:v,"data-reka-popper-content-wrapper":"",style:I({...r(E),transform:r(B)?r(E).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:N.value,"--reka-popper-transform-origin":[r(y).transformOrigin?.x,r(y).transformOrigin?.y].join(" "),...r(y).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[Y(r(z),k({ref:r(p)},c.$attrs,{"as-child":e.asChild,as:c.as,"data-side":H.value,"data-align":U.value,style:{animation:r(B)?void 0:"none"}}),{default:x(()=>[b(c.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}}),Ee=qe;const xe={top:"bottom",right:"left",bottom:"top",left:"right"};var Be=P({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(o){const{forwardRef:a}=q(),e=Ae(),l=s(()=>xe[e.placedSide.value]);return(t,p)=>(w(),S("span",{ref:i=>{r(e).onArrowChange(i)},style:I({position:"absolute",left:r(e).arrowX?.value?`${r(e).arrowX?.value}px`:void 0,top:r(e).arrowY?.value?`${r(e).arrowY?.value}px`:void 0,[l.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r(e).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r(e).placedSide.value],visibility:r(e).shouldHideArrow.value?"hidden":void 0})},[Y(_e,k(t.$attrs,{ref:r(a),style:{display:"block"},as:t.as,"as-child":t.asChild,rounded:t.rounded,width:t.width,height:t.height}),{default:x(()=>[b(t.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}}),Re=Be;export{ze as P,Ee as a,Re as b,ke as c,Ce as d};
