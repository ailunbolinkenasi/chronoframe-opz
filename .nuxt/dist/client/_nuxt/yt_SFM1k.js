import{_ as M,a as N}from"./BxJwlH6u.js";import{u as g,_ as j}from"./Bp-uPMv-.js";import{_ as A}from"./CPK4N6jr.js";import{C as E,a9 as O,u as H,j as K,M as c,w as e,o as s,a as u,b as n,c as k,F as S,a5 as F,O as o,ah as P,d as h,t as U}from"./Do4Ulm4h.js";import{_ as T}from"./Dt03dVmC.js";import"./D4m22CMA.js";import"./D_BgBUvd.js";import"./DMIzqIME.js";import"./D2mnJjkG.js";import"./Bzg-qYo_.js";import"./Du2f8F9w.js";import"./zoi52lI1.js";import"./y8VeKFcA.js";import"./D8I6Rcxg.js";import"./C8barOil.js";import"./MPJDxmQh.js";import"./Qxlw5ViT.js";import"./DBhqu3Ka.js";import"./DN8WM3HB.js";import"./Duon1tOp.js";import"./DdhnkgWh.js";import"./BN_V-WW3.js";const q={class:"space-y-6 max-w-6xl"},_t=E({__name:"map",setup(z){const{t:r}=O();H({title:r("title.mapAndLocation")});const{fields:L,state:l,submit:x,loading:V}=g("map"),{fields:d,state:m,submit:$,loading:w}=g("location"),_=K(()=>{const i=l.provider;return L.value.filter(t=>t.ui.visibleIf&&t.ui.visibleIf.fieldKey==="provider"?t.ui.visibleIf.value===i:!0)}),B=async()=>{const i=Object.fromEntries(_.value.map(t=>[t.key,l[t.key]]));try{await x(i)}catch{}},D=async()=>{const i=Object.fromEntries(d.value.map(t=>[t.key,m[t.key]]));try{await $(i)}catch{}};return(i,t)=>{const C=N,f=j,y=A,b=P,v=T,I=M;return s(),c(I,null,{header:e(()=>[n(C,{title:o(r)("title.mapAndLocation")},null,8,["title"])]),body:e(()=>[u("div",q,[n(v,{variant:"outline"},{header:e(()=>[u("span",null,U(o(r)("title.mapAndLocation")),1)]),footer:e(()=>[n(b,{loading:o(V),type:"submit",form:"mapSettingsForm",variant:"soft",icon:"tabler:device-floppy"},{default:e(()=>[...t[0]||(t[0]=[h(" 保存设置 ",-1)])]),_:1},8,["loading"])]),default:e(()=>[n(y,{id:"mapSettingsForm",class:"space-y-4",onSubmit:B},{default:e(()=>[(s(!0),k(S,null,F(o(_),a=>(s(),c(f,{key:a.key,field:a,"model-value":o(l)[a.key],"onUpdate:modelValue":p=>o(l)[a.key]=p},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),n(v,{variant:"outline"},{header:e(()=>[u("span",null,U(o(r)("title.location")),1)]),footer:e(()=>[n(b,{loading:o(w),type:"submit",form:"locationSettingsForm",variant:"soft",icon:"tabler:device-floppy"},{default:e(()=>[...t[1]||(t[1]=[h(" 保存设置 ",-1)])]),_:1},8,["loading"])]),default:e(()=>[n(y,{id:"locationSettingsForm",class:"space-y-4",onSubmit:D},{default:e(()=>[(s(!0),k(S,null,F(o(d),a=>(s(),c(f,{key:a.key,field:a,"model-value":o(m)[a.key],"onUpdate:modelValue":p=>o(m)[a.key]=p},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1})])]),_:1})}}});export{_t as default};
