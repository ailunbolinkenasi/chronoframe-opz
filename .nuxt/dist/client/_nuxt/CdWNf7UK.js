import{C as f,ab as w,j as W,M as p,w as u,o as t,c as m,O as o,b as _,ax as q,F as c,a5 as h,R as V,d as B}from"./Do4Ulm4h.js";import{_ as C}from"./CouUDEJ_.js";import{u as S,_ as j,a as N}from"./CC7JolDr.js";import{_ as E}from"./CPK4N6jr.js";import{_ as I,a as R}from"./gBolTGfJ.js";import{s as L,o as M}from"./oIv4vp1I.js";import"./D_BgBUvd.js";import"./SJBlXZjU.js";const O={key:0,class:"flex justify-center py-8"},P={key:1,class:"space-y-6"},Y=f({__name:"map",setup(T){const b=w(),{fields:i,state:a,loading:d,isFieldVisible:y}=S("map"),g=W(()=>{const n={};return i.value.forEach(r=>{if(!y(r))return;let s=L();r.ui.required?s=s.min(1,`${r.label} is required`):s=s.optional(),n[r.key]=s}),M(n)});function x(){b.push("/onboarding/complete")}return(n,r)=>{const s=q,$=C,k=N,U=j,v=E,z=R,F=I;return t(),p(F,{title:"地图服务",description:"为地球仪视图以及照片详情中的小地图配置地图服务"},{actions:u(()=>[_(z,{type:"submit",form:"map-form",color:"primary",size:"lg",disabled:o(d),"trailing-icon":"tabler:arrow-right"},{default:u(()=>[...r[0]||(r[0]=[B(" 完成设置 ",-1)])]),_:1},8,["disabled"])]),default:u(()=>[o(d)?(t(),m("div",O,[_(s,{name:"tabler:loader",class:"animate-spin w-8 h-8 text-gray-400"})])):(t(),m("div",P,[(t(!0),m(c,null,h(o(i),e=>(t(),m(c,{key:e.key},[e.key==="provider"&&e.ui.type==="custom"?(t(),p($,{key:0,modelValue:o(a)[e.key],"onUpdate:modelValue":l=>o(a)[e.key]=l,options:e.ui.options||[]},null,8,["modelValue","onUpdate:modelValue","options"])):V("",!0)],64))),128)),_(v,{id:"map-form",state:o(a),schema:o(g),class:"space-y-4",onSubmit:x},{default:u(()=>[(t(!0),m(c,null,h(o(i),e=>(t(),m(c,{key:e.key},[o(y)(e)&&e.key!=="provider"?(t(),p(U,{key:0,label:n.$t(e.label||""),name:e.key,required:e.ui.required,help:n.$t(e.ui.help||"")},{default:u(()=>[e.ui.type==="password"?(t(),p(k,{key:0,modelValue:o(a)[e.key],"onUpdate:modelValue":l=>o(a)[e.key]=l,type:"password",placeholder:n.$t(e.ui.placeholder||"")},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(t(),p(k,{key:1,modelValue:o(a)[e.key],"onUpdate:modelValue":l=>o(a)[e.key]=l,type:"text",placeholder:n.$t(e.ui.placeholder||"")},null,8,["modelValue","onUpdate:modelValue","placeholder"]))]),_:2},1032,["label","name","required","help"])):V("",!0)],64))),128))]),_:1},8,["state","schema"])]))]),_:1})}}});export{Y as default};
