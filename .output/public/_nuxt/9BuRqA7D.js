import{C as z,ab as P,M as r,w as s,o as t,c as m,O as a,b as i,av as U,F as p,a5 as W,R as $,d as B}from"./Cpc0UKJE.js";import{u as C,_ as q,a as v}from"./DCjp7yB0.js";import{_ as I}from"./DZlQVDzI.js";import{_ as N,a as S}from"./ChlxyZLr.js";import{o as j,s as c,e as R}from"./oIv4vp1I.js";import"./CXUgo2PS.js";import"./CNcvAVgZ.js";const E={key:0,class:"flex justify-center py-8"},J=z({__name:"admin",setup(L){const _=P(),{fields:u,state:n,loading:l,isFieldVisible:h}=C("admin"),f=j({username:c().min(2,"Username must be at least 2 characters"),email:R("Invalid email address"),password:c().min(6,"Password must be at least 6 characters"),confirmPassword:c()}).refine(o=>o.password===o.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function y(){_.push("/onboarding/site")}return(o,d)=>{const b=U,w=v,k=q,g=I,x=S,V=N;return t(),r(V,{title:"管理员账户",description:"创建一个管理员账户"},{actions:s(()=>[i(x,{type:"submit",form:"admin-form",color:"primary",size:"lg",disabled:a(l),"trailing-icon":"tabler:arrow-right"},{default:s(()=>[...d[0]||(d[0]=[B(" 下一步 ",-1)])]),_:1},8,["disabled"])]),default:s(()=>[a(l)?(t(),m("div",E,[i(b,{name:"tabler:loader",class:"animate-spin w-8 h-8 text-gray-400"})])):(t(),r(g,{key:1,id:"admin-form",schema:a(f),state:a(n),class:"space-y-4",onSubmit:y},{default:s(()=>[(t(!0),m(p,null,W(a(u),e=>(t(),m(p,{key:e.key},[a(h)(e)?(t(),r(k,{key:0,label:o.$t(e.label||""),name:e.key,required:e.ui.required,help:o.$t(e.ui.help||"")},{default:s(()=>[i(w,{modelValue:a(n)[e.key],"onUpdate:modelValue":F=>a(n)[e.key]=F,type:e.ui.type==="password"?"password":"text",placeholder:e.ui.placeholder},null,8,["modelValue","onUpdate:modelValue","type","placeholder"])]),_:2},1032,["label","name","required","help"])):$("",!0)],64))),128))]),_:1},8,["schema","state"]))]),_:1})}}});export{J as default};
