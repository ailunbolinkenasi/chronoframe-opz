import{C as D,a9 as E,r as U,j as F,c as n,o as a,a as o,b,t as i,O as e,M as f,R as u,w as d,d as L,aN as Q,at as B,ai as q,bg as G,F as y,a5 as w,a2 as C,aw as H,a6 as J}from"./Cpc0UKJE.js";import{_ as W}from"./CXUgo2PS.js";import{_ as X}from"./CkRCXFjB.js";import{_ as Y}from"./uqxPgdyf.js";import{u as Z,a as ee}from"./d9a9iJTn.js";const te={class:"space-y-1.5 w-[calc(100vw-34px)] sm:w-md"},ae={class:"flex items-center justify-between"},se={class:"text-sm font-bold text-neutral-900 dark:text-white p-2"},le={class:"flex items-center gap-1"},ne={key:1,class:"flex items-center gap-1"},oe={class:"space-y-0.5 max-h-64 overflow-y-auto"},ie={class:"flex flex-wrap gap-1"},re={key:0,class:"text-center text-sm text-neutral-500 dark:text-neutral-400 py-4"},ce={class:"space-y-0.5 max-h-64 overflow-y-auto"},ue=["onClick"],de={class:"text-sm text-default font-medium truncate"},me={key:0,class:"text-center text-sm text-neutral-500 dark:text-neutral-400 py-4"},be={class:"space-y-0.5 max-h-64 overflow-y-auto"},fe=["onClick"],_e={class:"text-sm text-default font-medium truncate"},ge={key:0,class:"text-center text-sm text-neutral-500 dark:text-neutral-400 py-4"},ve={class:"space-y-0.5 max-h-64 overflow-y-auto"},xe=["onClick"],pe={class:"text-sm text-default font-medium truncate"},he={key:0,class:"text-center text-sm text-neutral-500 dark:text-neutral-400 py-4"},ke={class:"max-h-64 overflow-y-auto flex flex-col items-center gap-3 py-4"},ye={class:"text-xs font-semibold text-neutral-900/90 dark:text-white/90"},we=D({__name:"FilterPanel",setup(Ce){const{t:l}=E(),{availableFilters:c,selectedCounts:_,toggleFilter:S,isFilterSelected:r,clearAllFilters:j,hasActiveFilters:A,activeFilters:p}=Z(),{shufflePhotos:N}=ee(),V=U("labels"),g=U(!1),v=F({get:()=>p.value.search,set:m=>{p.value.search=m}}),x=F({get:()=>p.value.ratings,set:m=>{p.value.ratings=m}}),P=F(()=>[{label:l("ui.action.filter.tabs.tags"),value:"labels",badge:_.value.tags||void 0,icon:"tabler:tags",slot:"tags"},{label:l("ui.action.filter.tabs.cameras"),value:"cameras",badge:_.value.cameras||void 0,icon:"tabler:camera",slot:"cameras"},{label:l("ui.action.filter.tabs.lenses"),value:"lenses",badge:_.value.lenses||void 0,icon:"tabler:aperture",slot:"lenses"},{label:l("ui.action.filter.tabs.cities"),value:"cities",badge:_.value.cities||void 0,icon:"tabler:map-pin",slot:"cities"},{label:l("ui.action.filter.tabs.ratings"),value:"ratings",badge:_.value.ratings||void 0,icon:"tabler:star",slot:"ratings"}]),h=(m,s)=>{S(m,s)},T=()=>{N()};return(m,s)=>{const k=q,I=W,R=X,O=H,$=J,K=G,M=Y;return a(),n("div",te,[o("div",ae,[o("h3",se,i(e(l)("ui.action.filter.title")),1),o("div",le,[e(A)?(a(),f(k,{key:0,size:"sm",variant:"ghost",color:"neutral",icon:"tabler:filter-x",onClick:s[0]||(s[0]=()=>{e(j)(),g.value=!1,v.value=""})},{default:d(()=>[L(i(e(l)("ui.action.filter.clearAll")),1)]),_:1})):u("",!0),e(g)?(a(),n("div",ne,[b(I,{modelValue:e(v),"onUpdate:modelValue":s[1]||(s[1]=t=>B(v)?v.value=t:null),size:"sm",icon:"tabler:search",placeholder:"搜索文件名等...",class:"w-32",onKeydown:s[2]||(s[2]=Q(t=>g.value=!1,["escape"]))},null,8,["modelValue"]),b(k,{size:"sm",variant:"ghost",color:"neutral",icon:"tabler:x",onClick:s[3]||(s[3]=()=>{g.value=!1,v.value=""})})])):(a(),f(k,{key:2,size:"sm",variant:"ghost",color:"neutral",icon:"tabler:search",onClick:s[4]||(s[4]=t=>g.value=!0)})),b(R,{text:"打乱列表"},{default:d(()=>[b(k,{size:"sm",variant:"ghost",color:"neutral",icon:"tabler:dice-3",onClick:T})]),_:1})])]),b(M,{modelValue:e(V),"onUpdate:modelValue":s[6]||(s[6]=t=>B(V)?V.value=t:null),color:"neutral",size:"xs",items:e(P),ui:{list:"bg-white/30 dark:bg-neutral-800/50",indicator:"bg-white/80",trigger:"data-[state=inactive]:text-muted data-[state=active]:text-default dark:data-[state=active]:text-inverted",trailingBadge:"ring-0 rounded-full py-0 bg-info-100/80 dark:bg-info-900/80 text-info-500 dark:text-info-400 border border-info-300/50 dark:border-info-700/50",trailingBadgeSize:"sm"}},{tags:d(()=>[o("div",oe,[o("div",ie,[(a(!0),n(y,null,w(e(c).tags,t=>(a(),f(O,{key:t.label,label:t.label,color:e(r)("tags",t.label)?"info":"neutral","trailing-icon":e(r)("tags",t.label)?"tabler:check":"",variant:"soft",class:C(["cursor-pointer select-none transition-colors",`${e(r)("tags",t.label)?"":"bg-neutral-800/10 text-neutral-800 hover:bg-neutral-800/20 dark:bg-white/10 dark:text-white dark:hover:bg-white/20"}`]),onClick:z=>h("tags",t.label)},null,8,["label","color","trailing-icon","class","onClick"]))),128))]),e(c).tags.length===0?(a(),n("div",re,i(e(l)("ui.action.filter.empty.tags")),1)):u("",!0)])]),cameras:d(()=>[o("div",ce,[(a(!0),n(y,null,w(e(c).cameras,t=>(a(),n("div",{key:t.label,class:C(["flex items-center justify-between cursor-pointer select-none hover:bg-neutral-400/30 dark:hover:bg-info-800/30 rounded-lg px-2 py-2",e(r)("cameras",t.label)?"bg-neutral-400/30 dark:bg-info-800/30":""]),onClick:z=>h("cameras",t.label)},[o("span",de,i(t.label),1),e(r)("cameras",t.label)?(a(),f($,{key:0,name:"tabler:check",class:"size-4 text-green-500"})):u("",!0)],10,ue))),128)),e(c).cameras.length===0?(a(),n("div",me,i(e(l)("ui.action.filter.empty.cameras")),1)):u("",!0)])]),lenses:d(()=>[o("div",be,[(a(!0),n(y,null,w(e(c).lenses,t=>(a(),n("div",{key:t.label,class:C(["flex items-center justify-between cursor-pointer select-none hover:bg-neutral-400/30 dark:hover:bg-info-800/30 rounded-lg px-2 py-2",e(r)("lenses",t.label)?"bg-neutral-400/30 dark:bg-info-800/30":""]),onClick:z=>h("lenses",t.label)},[o("span",_e,i(t.label),1),e(r)("lenses",t.label)?(a(),f($,{key:0,name:"tabler:check",class:"size-4 text-green-500"})):u("",!0)],10,fe))),128)),e(c).lenses.length===0?(a(),n("div",ge,i(e(l)("ui.action.filter.empty.lenses")),1)):u("",!0)])]),cities:d(()=>[o("div",ve,[(a(!0),n(y,null,w(e(c).cities,t=>(a(),n("div",{key:t.label,class:C(["flex items-center justify-between cursor-pointer select-none hover:bg-neutral-400/30 dark:hover:bg-info-800/30 rounded-lg px-2 py-2",e(r)("cities",t.label)?"bg-neutral-400/30 dark:bg-info-800/30":""]),onClick:z=>h("cities",t.label)},[o("span",pe,i(t.label),1),e(r)("cities",t.label)?(a(),f($,{key:0,name:"tabler:check",class:"size-4 text-green-500"})):u("",!0)],10,xe))),128)),e(c).cities.length===0?(a(),n("div",he,i(e(l)("ui.action.filter.empty.cities")),1)):u("",!0)])]),ratings:d(()=>[o("div",ke,[b(K,{modelValue:e(x),"onUpdate:modelValue":s[5]||(s[5]=t=>B(x)?x.value=t:null),size:"xl","allow-half":!1},null,8,["modelValue"]),o("div",ye,i(e(x)?e(l)("ui.action.filter.rating.showStarsAndAbove",e(x)):e(l)("ui.action.filter.rating.showAll")),1)])]),_:1},8,["modelValue","items"])])}}}),Ue=Object.assign(we,{__name:"OverlayFilterPanel"});export{Ue as _};
