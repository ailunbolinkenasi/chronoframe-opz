import{C as F,ac as L,ar as O,j as I,as as E,r as z,v as H,c as l,a as o,F as m,a5 as _,O as i,b as d,w as b,t as h,o as r,P as C,a2 as P,a1 as Q,ae as q,ai as G,al as J,M as j,R as A,a0 as K,a6 as W,d as B,e as X,_ as Z}from"./Cpc0UKJE.js";import{_ as tt}from"./CkRCXFjB.js";import"./Ct_BEpIm.js";import"./C7QMAU0h.js";import"./B7XY3PeF.js";const et={class:"relative min-h-screen bg-neutral-50 dark:bg-neutral-950"},ot={class:"absolute inset-x-0 top-0 h-[40vh] sm:h-[60vh] overflow-hidden -z-10 pointer-events-none"},st={class:"absolute inset-0 flex h-full gap-2 sm:gap-4 opacity-40 dark:opacity-20"},at={class:"absolute top-0 left-0 p-4 sm:p-6 z-20"},rt={class:"flex flex-col items-center pt-24 sm:pt-40 pb-20 px-4 text-center"},nt={class:"font-black text-5xl sm:text-7xl tracking-tight drop-shadow-sm text-neutral-900 dark:text-white mb-4"},lt={class:"flex items-center gap-3"},it={class:"text-lg text-neutral-500 dark:text-neutral-400 font-[Pacifico]"},ct={class:"container mx-auto px-6 lg:px-12 pb-24"},ut={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-x-8 gap-y-12"},dt={class:"relative h-56 w-full mb-6 flex justify-center items-center perspective-1000"},pt={key:0,class:"absolute inset-0 rounded-2xl border-2 border-dashed border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-800/50 flex flex-col items-center justify-center gap-3 group-hover:border-primary-400 transition-colors"},ht={class:"p-3 rounded-full bg-neutral-100 dark:bg-neutral-800 text-neutral-400 group-hover:text-primary-500 group-hover:bg-primary-50 transition-colors"},mt={class:"text-sm font-medium text-neutral-400"},ft={class:"relative px-1"},_t={class:"flex items-start justify-between gap-4 mb-1"},gt={class:"text-lg font-bold text-neutral-800 dark:text-neutral-100 line-clamp-1 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors"},vt={class:"shrink-0 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"},xt={class:"text-sm text-neutral-500 dark:text-neutral-500 line-clamp-2 leading-relaxed"},bt={class:"mt-3 flex items-center text-xs font-semibold text-primary-600 dark:text-primary-400 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"},yt=F({__name:"index",setup(kt){const D=J(),{photos:M}=L(),{data:N}=O("albums",()=>$fetch("/api/albums"),{watch:[]}),y=I(()=>M.value.toSorted(()=>.5-Math.random()).slice(0,30)),V=E("(max-width: 768px)"),g=I(()=>V.value?3:8),k=z([]);H(()=>{k.value=Array.from({length:g.value},()=>120+(Math.random()*90-60))});const R=I(()=>{const t=Array.from({length:g.value},()=>[]);if(y.value.length===0)return t;const e=8;for(let a=0;a<g.value;a++)for(let u=0;u<e;u++){const f=(a+u*g.value)%y.value.length;t[a]?.push(y.value[f])}return t}),w=t=>M.value.find(e=>e.id===t)||null,T=t=>{if(!t.photoIds||t.photoIds.length===0)return[];const e=[];if(t.coverPhotoId){const a=w(t.coverPhotoId);a&&e.push(a)}if(e.length===0&&t.photoIds[0]){const a=w(t.photoIds[0]);a&&e.push(a)}for(const a of t.photoIds){if(e.length>=3)break;const u=w(a);u&&!e.find(f=>f.id===u.id)&&e.push(u)}return e},v=(t,e)=>t===0?{x:0,y:0,rotate:0,scale:1}:t===1?e?{x:-35,y:-5,rotate:-12,scale:.95}:{x:-4,y:-4,rotate:-3,scale:.98}:e?{x:35,y:-5,rotate:12,scale:.95}:{x:4,y:-4,rotate:3,scale:.96},p=z(null);return(t,e)=>{const a=Q,u=q,f=G,U=tt,$=W,Y=X;return r(),l("div",et,[o("div",ot,[o("div",st,[(r(!0),l(m,null,_(i(R),(s,c)=>(r(),l("div",{key:c,class:"flex-1 relative overflow-hidden"},[o("div",{class:P(["flex flex-col gap-2 sm:gap-4",c%2===0?"animate-scroll-down":"animate-scroll-up"]),style:C({animationDuration:i(k)[c]?`${i(k)[c]}s`:"120s"})},[(r(),l(m,null,_(3,n=>(r(),l(m,{key:n},[(r(!0),l(m,null,_(s,(x,S)=>(r(),l("div",{key:`${x.id}-${n}-${S}`,class:"w-full rounded-lg overflow-hidden"},[d(u,null,{default:b(()=>[d(a,{class:"w-full h-auto object-cover saturate-[0.8]",lazy:!1,src:x.thumbnailUrl,thumbhash:x.thumbnailHash,style:C({aspectRatio:x.aspectRatio||1})},null,8,["src","thumbhash","style"])]),_:2},1024)]))),128))],64))),64))],6)]))),128))]),e[1]||(e[1]=o("div",{class:"absolute inset-0 bg-gradient-to-b from-neutral-50/60 via-neutral-50/90 to-neutral-50 dark:from-neutral-950/60 dark:via-neutral-950/90 dark:to-neutral-950"},null,-1))]),o("div",at,[d(U,{text:t.$t("ui.action.home.tooltip"),popper:{placement:"right"}},{default:b(()=>[d(f,{variant:"ghost",color:"gray",icon:"tabler:arrow-left",class:"hover:bg-white/50 dark:hover:bg-black/50 backdrop-blur-md transition-all",size:"lg",to:"/"})]),_:1},8,["text"])]),o("div",rt,[o("h1",nt,h(t.$t("title.albums")),1),o("div",lt,[e[2]||(e[2]=o("span",{class:"h-px w-8 bg-neutral-300 dark:bg-neutral-700"},null,-1)),o("p",it,h(i(D).public.app.slogan),1),e[3]||(e[3]=o("span",{class:"h-px w-8 bg-neutral-300 dark:bg-neutral-700"},null,-1))])]),o("div",ct,[o("div",ut,[(r(!0),l(m,null,_(i(N),s=>(r(),j(Y,{key:s.id,to:`/albums/${s.id}`,class:"group block relative",onMouseenter:c=>p.value=s.id,onMouseleave:e[0]||(e[0]=c=>p.value=null)},{default:b(()=>[o("div",dt,[(r(!0),l(m,null,_(T(s),(c,n)=>(r(),j(i(K).div,{key:c.id,class:P(["absolute w-full h-full rounded-2xl overflow-hidden bg-white dark:bg-neutral-800 border border-white/20 dark:border-white/5",{"shadow-xl shadow-neutral-200/50 dark:shadow-black/40":n===0,"shadow-md":n>0}]),initial:!1,animate:{x:v(n,i(p)===s.id).x,y:v(n,i(p)===s.id).y,rotate:v(n,i(p)===s.id).rotate,scale:v(n,i(p)===s.id).scale||1,zIndex:30-n},transition:{type:"spring",stiffness:260,damping:20}},{default:b(()=>[d(a,{class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",src:c.thumbnailUrl,thumbhash:c.thumbnailHash,alt:s.title},null,8,["src","thumbhash","alt"]),n>0?(r(),l("div",{key:0,class:P(["absolute inset-0 bg-black/20 dark:bg-black/50 transition-opacity duration-300",i(p)===s.id?"opacity-0":"opacity-100"])},null,2)):A("",!0)]),_:2},1032,["class","animate"]))),128)),!s.photoIds||s.photoIds.length===0?(r(),l("div",pt,[o("div",ht,[d($,{name:"tabler:photo-off",class:"size-6"})]),o("p",mt,h(t.$t("ui.album.noImage")),1)])):A("",!0)]),o("div",ft,[o("div",_t,[o("h2",gt,h(s.title),1),o("span",vt,[d($,{name:"tabler:calendar",class:"size-3 mr-1"}),B(" "+h(t.$dayjs(s.createdAt).format("YYYY/MM")),1)])]),o("p",xt,h(s.description||t.$t("ui.album.noDescription")),1),o("div",bt,[B(h(t.$t("ui.action.view_album")||"View Album")+" ",1),d($,{name:"tabler:arrow-right",class:"ml-1 size-3"})])])]),_:2},1032,["to","onMouseenter"]))),128))])])])}}}),zt=Z(yt,[["__scopeId","data-v-f2661c42"]]);export{zt as default};
