import{_ as M,a as N}from"./CPTTSFvb.js";import{u as g,_ as j}from"./Chyyx_Sw.js";import{_ as A}from"./DZlQVDzI.js";import{C as E,a9 as O,u as H,j as K,M as c,w as e,o as s,a as u,b as n,c as k,F as S,a5 as F,O as o,ai as P,d as U,t as h}from"./Cpc0UKJE.js";import{_ as T}from"./DO3xSySP.js";import"./BjUXi3JB.js";import"./CXUgo2PS.js";import"./BdLvxhSi.js";import"./Bk1GAyqG.js";import"./yl6JOf5H.js";import"./Ct_BEpIm.js";import"./C7QMAU0h.js";import"./CxsYCXXx.js";import"./wnGbbVmH.js";import"./BdRmTPAZ.js";import"./DY-ki2PF.js";import"./CzWYPtMs.js";import"./B7XY3PeF.js";import"./BJ-5YYua.js";import"./P0jURR1P.js";import"./D3oo-TiF.js";import"./uqxPgdyf.js";const q={class:"space-y-6 max-w-6xl"},_t=E({__name:"map",setup(z){const{t:r}=O();H({title:r("title.mapAndLocation")});const{fields:L,state:l,submit:x,loading:V}=g("map"),{fields:d,state:m,submit:$,loading:w}=g("location"),_=K(()=>{const i=l.provider;return L.value.filter(t=>t.ui.visibleIf&&t.ui.visibleIf.fieldKey==="provider"?t.ui.visibleIf.value===i:!0)}),B=async()=>{const i=Object.fromEntries(_.value.map(t=>[t.key,l[t.key]]));try{await x(i)}catch{}},D=async()=>{const i=Object.fromEntries(d.value.map(t=>[t.key,m[t.key]]));try{await $(i)}catch{}};return(i,t)=>{const C=N,f=j,y=A,b=P,v=T,I=M;return s(),c(I,null,{header:e(()=>[n(C,{title:o(r)("title.mapAndLocation")},null,8,["title"])]),body:e(()=>[u("div",q,[n(v,{variant:"outline"},{header:e(()=>[u("span",null,h(o(r)("title.mapAndLocation")),1)]),footer:e(()=>[n(b,{loading:o(V),type:"submit",form:"mapSettingsForm",variant:"soft",icon:"tabler:device-floppy"},{default:e(()=>[...t[0]||(t[0]=[U(" 保存设置 ",-1)])]),_:1},8,["loading"])]),default:e(()=>[n(y,{id:"mapSettingsForm",class:"space-y-4",onSubmit:B},{default:e(()=>[(s(!0),k(S,null,F(o(_),a=>(s(),c(f,{key:a.key,field:a,"model-value":o(l)[a.key],"onUpdate:modelValue":p=>o(l)[a.key]=p},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1}),n(v,{variant:"outline"},{header:e(()=>[u("span",null,h(o(r)("title.location")),1)]),footer:e(()=>[n(b,{loading:o(w),type:"submit",form:"locationSettingsForm",variant:"soft",icon:"tabler:device-floppy"},{default:e(()=>[...t[1]||(t[1]=[U(" 保存设置 ",-1)])]),_:1},8,["loading"])]),default:e(()=>[n(y,{id:"locationSettingsForm",class:"space-y-4",onSubmit:D},{default:e(()=>[(s(!0),k(S,null,F(o(d),a=>(s(),c(f,{key:a.key,field:a,"model-value":o(m)[a.key],"onUpdate:modelValue":p=>o(m)[a.key]=p},null,8,["field","model-value","onUpdate:modelValue"]))),128))]),_:1})]),_:1})])]),_:1})}}});export{_t as default};
